<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Intro to R for Social Data Science</title>
    <meta charset="utf-8" />
    <meta name="author" content="Merlin Schaeffer Department of Sociology" />
    <meta name="date" content="2021-09-10" />
    <script src="libs/header-attrs/header-attrs.js"></script>
    <link href="libs/tile-view/tile-view.css" rel="stylesheet" />
    <script src="libs/tile-view/tile-view.js"></script>
    <link href="libs/tachyons/tachyons.min.css" rel="stylesheet" />
    <link href="libs/panelset/panelset.css" rel="stylesheet" />
    <script src="libs/panelset/panelset.js"></script>
    <link rel="stylesheet" href="libs/Merlin169.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">
class: center, middle, inverse, title-slide

# Intro to R for Social Data Science
## Int_R_oduction
### Merlin Schaeffer<br>Department of Sociology
### 2021-09-10

---




class: clear

&lt;iframe src="https://app.sli.do/event/aflvddc2" height="100%" width="100%" frameBorder="0" style="min-height: 560px;"&gt;&lt;/iframe&gt;

---
# What is R?

.push-left[
If you're mainly interested in using regression to analyze a specific survey, it is

1. ... a rather tedious stats programming language.

2. ... basically a calculator:


```r
1 + 1
# [1] 2
```


```r
x &lt;- 1
x + 1
# [1] 2
```
]

--

.push-right[
If you enjoy coding and working with
several data sources at once, it is

1. ... a great platform for (social) data science of
  + networks, text, geo, pictures, ...

2. ... an all in one solution.&lt;br&gt;
  `\(\rightarrow\)` I coded these slights in R!

3. ... a huge, dynamic and cooperative community.
]

---
# What you will learn

.center[
**(Social) Data Science**]
&lt;img src="https://d33wubrfki0l68.cloudfront.net/571b056757d68e6df81a3e3853f54d3c76ad6efc/32d37/diagrams/data-science.png" width="70%" style="display: block; margin: auto;" /&gt;
.center[.backgrnote[*Source*: Grolemund and Wickham (2017)]]

.center[
`\(\rightarrow\)` The goal of this course is to give you an introduction the most important tools
]


---
background-image: url(https://www.tidyverse.org/images/tidyverse-default.png)
background-size: cover
background-position: center
class: clear

---
background-image: url(https://mareds.github.io/r_course/img_site/Tidyverse_packages.png)
background-size: contain
background-position: center
class: clear

---
background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/1/1b/R_logo.svg/724px-R_logo.svg.png)
background-size: contain
background-position: center
class: clear

--

&lt;br&gt;
&lt;br&gt;
&lt;img src="./img/RConsole.png" width="70%" style="display: block; margin: auto;" /&gt;

---
background-image: url(https://upload.wikimedia.org/wikipedia/commons/thumb/d/d0/RStudio_logo_flat.svg/1280px-RStudio_logo_flat.svg.png)
background-size: contain
background-position: center
class: clear

--

&lt;img src="https://d33wubrfki0l68.cloudfront.net/8a64bb047429d7ae0e2acae35c40e421e6439bf6/80e5d/diagrams/rstudio-editor.png" width="70%" style="display: block; margin: auto;" /&gt;

---
# Set R Studio preferences

.left-column[
Set these preferences to improve *reproducibility*!
  + `\(\rightarrow\)` RStudio/Preferences
]

.right-column[
&lt;img src="https://d33wubrfki0l68.cloudfront.net/7fa44a5471d40025344176ede4169c5ad3159482/1577f/screenshots/rstudio-workspace.png" width="70%" style="display: block; margin: auto;" /&gt;
]

---
# R Studio workflow

.left-column[
1. Use **Projects** to manage all files (scripts, data, figures and tables) belonging to the same project.
2. Use the editor the write **R scripts**, so you can reproduce your results.
]

.right-column[
&lt;img src="https://d33wubrfki0l68.cloudfront.net/8a64bb047429d7ae0e2acae35c40e421e6439bf6/80e5d/diagrams/rstudio-editor.png" width="85%" style="display: block; margin: auto;" /&gt;
]

---
# Set up your "IntRo" project

.left-column[
- Click on the Project button.
]

.right-column[
&lt;img src="./img/RProject1.png" width="40%" style="display: block; margin: auto;" /&gt;
]

---
layout: true
# Set up your "IntRo" project
.left-column[
- Set up a new project in R Studio. 
  + "New Directory"
  + "New Project"
  + Finally, a name for the folder and under "Browse" where you want that folder to be located.
  + **Done!** Now you should find an empty folder under the path your wanted it to be set up.
  + In the future, start RStudio by double clicking on the project icon in your folder.
]

---

.right-column[
&lt;img src="./img/RProject2.png" width="90%" style="display: block; margin: auto;" /&gt;
]

---

.right-column[
&lt;img src="./img/RProject3.png" width="90%" style="display: block; margin: auto;" /&gt;
]

---

.right-column[
&lt;img src="./img/RProject4.png" width="90%" style="display: block; margin: auto;" /&gt;
]

---

.right-column[
&lt;img src="./img/RProject5.png" width="90%" style="display: block; margin: auto;" /&gt;
]

---
layout: false
layout: true
# R Scripts
---

.left-column[
- Open a new R Script.
- Save it in your new folder.
  + Find it under "Files".
]

.right-column[
&lt;img src="./img/Rscript1.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

.left-column[
- Type the following lines.
- Save the file;
  - I called mine "Lecture.R".
- Mark all code and click "run".
]

.right-column[
&lt;img src="./img/Rscript3.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---

.left-column[
OK, you are good to go! 

**Pro tip:** *Use the R Script to take notes during the lecture!*
]

.right-column[
&lt;img src="./img/Rscript4.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---
layout: false
class: clear

&lt;iframe src="https://app.sli.do/event/aflvddc2" height="100%" width="100%" frameBorder="0" style="min-height: 560px;"&gt;&lt;/iframe&gt;

---
layout: true
# First steps with R .font60[Creating **objects**]
---


```r
# I am a comment; the hashtag "#" makes me one.
# It is good programming style to use me a lot ;).
```

--

R is an _**object**-oriented_ programming language. We create objects with the **assignment operator** `&lt;-`.&lt;br&gt; .backgrnote[The names you give objects need to start with a letter.]


```r
# Create a new object "test_object" and assign to it the result of 5 + 2
*test_object &lt;- 5 + 2
```

--

The assignment operator may be used in both *directions*: `&lt;-`, or `-&gt;`. .backgrnote[This can help you write more legible code.]


```r
*5 + 3 -&gt; another_test_object # Create another object
```

---

Objects can contain all kinds of information.

```r
text_object &lt;- "Yes, you can also assign text"
```

---
layout: false
# First steps with R .font60[Printing objects]

You can make R print the content of an object by typing its name.

```r
*test_object # Print object
# [1] 7
```

--


```r
another_test_object
# [1] 8
text_object
# [1] "Yes, you can also assign text"
```

---
layout: false
# Printing `\(\neq\)` assigning!

If you don't use the assignment operator, R will simply print the result of an operation without changing that object (i.e., without any further consequences).


```r
test_object + 3 # Print the result of adding 3 to the content of test_object + 3.
# [1] 10
test_object # Print the content of test_object.
# [1] 7
```

--

If you actually want to create or modify objects, you need to use the assignment operator and explicitly assign the result of your operation to the object you want to change.


```r
test_object &lt;- test_object + 3 # Assign to test_object: the result of adding 3 to the content of test_object.
test_object # Print the content of test_object
# [1] 10
```

--

The short-hand version for assigning and printing an object right away uses surrounding `()`:

```r
*(test_object &lt;- 5 + 2) # Assign the result of 5 + 2 to "test_object" and print tat object's content.
# [1] 7
```

---

# First steps with R .font60[**Functions**]
Functions do the work in R. You call/use them by:&lt;br&gt; `
function_name(argument1 = value1, argument2 = value2, ...)`

--

The `seq()` function, for instance, produces a sequence of numbers and has (among others) the arguments `from` and `to`.

```r
*(yet_another_object &lt;- seq(from = 1, to = 5))
# [1] 1 2 3 4 5
```

--

To shorten code, R can infer the arguments by their position (i.e., the positions of supplied values).&lt;br&gt; .backgrnote[(i.e., Here R assumes you mean from-to and *not* to-from)]


```r
(yet_another_object &lt;- seq(1, 5))
# [1] 1 2 3 4 5
```

---
# First steps with R .font60[Object **classes**]

What a function does, depends on the type of object you feed to its arguments as values. The `class()` function tells you what **class**/type of object your are dealing with:


```r
*class(yet_another_object) # "yet_another_object" contails whole numbers, so it is:
# [1] "integer"
class(text_object) # "text_object" contains a sentence, so it is:
# [1] "character"
```

--

Functions will throw an error message, if you feed them with an object of a class it cannot handle:


```r
alphabet &lt;- seq(from = "a", to = "z")
# Error in seq.default(from = "a", to = "z"): 'from' must be a finite number
```

--

Although functions do stuff with objects we feed to them, they are also objects themselves:


```r
class(seq)
# [1] "function"
```

---
# First steps with R .font60[The **Environment**]

.left-column[
The upper-right panel of R Studio has a sheet called **Environment**. It lists all the objects you have created and which you can work with. It is the environment you are working in.
]

.right-column[
&lt;img src="./img/Environment.png" width="100%" style="display: block; margin: auto;" /&gt;
]

---
# **Arithmetic operators**

Like any decent calculator, R knows how to handle basic arithmetic:


```r
2 + 3 # Plus
# [1] 5
2 - 3 # Minus
# [1] -1
2 * 3 # Multiplication
# [1] 6
2 / 3 # Devision
# [1] 0.667
2^3   # Power
# [1] 8
```

--

Other mathematical operations are implemented as functions:


```r
yet_another_object # Print another_object.
# [1] 1 2 3 4 5
sqrt(yet_another_object) # Print square root of every element contained in another_object.
# [1] 1.00 1.41 1.73 2.00 2.24
```

---
# **Logical** (Boolean) **operators**

.center[`&amp;` "and", `|` "or", and `!` "not"]

&lt;img src="https://d33wubrfki0l68.cloudfront.net/01f4b6d39d2be8269740a3ad7946faa79f7243cf/8369a/diagrams/transform-logical.png" width="80%" style="display: block; margin: auto;" /&gt;
.center[.backgrnote[*Source*: Wickham &amp; Grolemund [R for Data Science](http://r4ds.had.co.nz/transform.html)]]

---
# Logical (Boolean) operators .font60[In action]

```r
x &lt;- 2    # Assign 2 to object x
x == 3    # equals
# [1] FALSE
x != 3    # unequals
# [1] TRUE
x &lt; 5     # less than
# [1] TRUE
x &gt; 5     # greater than
# [1] FALSE
x &lt;= 5    # less or equal
# [1] TRUE
x &gt;= 2    # greater or equal
# [1] TRUE
x &gt; 5 &amp; 6 # greater than 5 and greater than 6
# [1] FALSE
x &gt; 5 | 1 # greater than 5 or greater then 1
# [1] TRUE
x &gt;= (5 &amp; 6) | (5 &amp; 1) | (1 &amp; 2) # Complex comparison
# [1] TRUE
```

---
# Getting **help**

R has a steep learning curve and is, at times, simply frustrating. The documentation of a specific function can be accessed via typing `?&lt;NAME_OF_FUNCTION&gt;`.


```r
?seq()
```

You can find further useful links on the course website.

---
class: clear

&lt;iframe src="https://app.sli.do/event/aflvddc2" height="100%" width="100%" frameBorder="0" style="min-height: 560px;"&gt;&lt;/iframe&gt;

---
class: inverse
# Today's general lessons


1. R is an **object**-oriented programming language. Objects are basically containers and they can contain anything: data, functions, other objects, results, figures, and more ... Objects can be called by their name, which needs to start with a letter. If you just type the name of an object, R prints the object.
2. **Functions** do stuff with objects, which we assign as **values** to a function's **arguments**. What exactly a function does, depends on the **class** of an object. Functions themselves are objects too.

---
class: inverse
# Operators

1. `?`: View a function's help file.
2. `#`: defines a **comment** in your code. Comment as much as possible!
3. `&lt;-`: is the **assignment operator** of R. It creates objects and assigns information to them.
4. `-&gt;`: is the **reversed assignment operator** of R. It also creates objects and assigns information to them.
5. `+`, `-`, `*`, `\`, `^` : **Arithmetic operators**
6. `&amp;` "and", `|` "or", `!` "not" : **Logical** (Boolean) **operators**

---
class: inverse
# Today's (important) functions
1. `class()`: tells you the class of an object.

---
# References

Grolemund, G. and H. Wickham (2017). _R for Data Science_. O'Reilly.
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="libs/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
"highlightLanguage": "r",
"highlightStyle": "zenburn",
"highlightLines": true,
"countIncrementalSlides": false,
"ratio": "16:9"
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
